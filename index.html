#!/bin/bash
# Vars
DIR="${HOME}/dotfiles"

# Install link-files
curl -LsS https://markchalloner.github.io/link-files | bash

# Create dir
mkdir -p "${DIR}"
(
  cd "${DIR}"

  # Download
  if [ -d ".git" ]
  then
    git pull
  else
    git clone git@github.com:markchalloner/dotfiles.git .
  fi

  # Set user
  git config user.name "Mark Challoner"
  git config user.email "mark.a.r.challoner@gmail.com"
)

# Link
ln -s "${DIR}" "${HOME}/.link-files"

# Install
link-files -i -o

# Run
. "${HOME}/.bash_profile"

